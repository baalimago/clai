name: Simple Go Pipeline - release

on:
  push:
    tags:
      - "v*.*.*"
    branches-ignore:
      # This is to be able to have release candidates in feature/bug branches
      - "!main"

jobs:
  call-workflow:
    uses: baalimago/simple-go-pipeline/.github/workflows/release.yml@v0.2.5
    with:
      go-version: '1.22'
      project-name: clai
      branch: main
      version-var: "github.com/baalimago/clai/internal.BUILD_VERSION"

